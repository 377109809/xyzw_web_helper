import{k as B,c as n,i as o,a as e,H,J as I,r as T,p as $,o as P,e as U,t as a,u as D,d as h,w as _,f as S,F as k,g as v,n as W,b as g,h as f,l as M,j as w}from"./index-DAdUG7DC.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as J}from"./PersonCircle-AUKDfKbA.js";import{C as y}from"./CheckmarkCircle-DtoX4Wwq.js";import{T as A}from"./Time-9pteEJgs.js";import{C as z}from"./Cube-DaGeP_qY.js";import{A as Q}from"./Add-BA0xp4x1.js";import{S as R}from"./Settings-Bn_DVoU6.js";const G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},K=e("path",{d:"M396 432H136c-36.44 0-70.36-12.57-95.51-35.41C14.38 372.88 0 340 0 304c0-36.58 13.39-68.12 38.72-91.22c18.11-16.53 42.22-28.25 69.18-33.87a16 16 0 0 0 11.37-9.15a156.24 156.24 0 0 1 42.05-56C187.76 91.69 220.5 80 256 80a153.57 153.57 0 0 1 107.14 42.9c24.73 23.81 41.5 55.28 49.18 92a16 16 0 0 0 12.12 12.39C470 237.42 512 270.43 512 328c0 33.39-12.24 60.78-35.41 79.23C456.23 423.43 428.37 432 396 432z",fill:"currentColor"},null,-1),O=[K],X=B({name:"Cloud",render:function(i,d){return o(),n("svg",G,O)}}),Y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Z=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 144h112v112"},null,-1),ee=e("path",{d:"M48 368l121.37-121.37a32 32 0 0 1 45.26 0l50.74 50.74a32 32 0 0 0 45.26 0L448 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),te=[Z,ee],se=B({name:"TrendingUp",render:function(i,d){return o(),n("svg",Y,te)}}),oe={class:"dashboard-page"},ne={class:"dashboard-main"},ie={class:"main-container"},ae={class:"welcome-section"},ce={class:"welcome-content"},re={class:"welcome-text"},le={class:"welcome-actions"},de={class:"stats-section"},ue={class:"stats-grid"},me={class:"stat-content"},he={class:"stat-number"},pe={class:"stat-label"},_e={class:"quick-actions-section"},ke={class:"actions-grid"},ve=["onClick"],ge={class:"action-icon"},fe={class:"action-content"},we={class:"recent-activity-section"},ye={class:"activity-header"},be={key:0,class:"activity-list"},Ce={class:"activity-content"},xe={class:"activity-text"},Te={class:"activity-time"},$e={key:1,class:"empty-activity"},De={__name:"Dashboard",setup(b){const i=U(),d=H(),u=I(),p=T([]),N=$(()=>new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),j=$(()=>[{id:1,icon:J,label:"游戏Token",value:u.gameTokens.length,change:"+2 本月",changeType:"positive",color:"#18a058"},{id:2,icon:y,label:"已完成任务",value:"156",change:"+12 今日",changeType:"positive",color:"#2080f0"},{id:3,icon:A,label:"节省时间",value:"24.5h",change:"+3.2h 本周",changeType:"positive",color:"#f0a020"},{id:4,icon:se,label:"效率提升",value:"85%",change:"+15% 本月",changeType:"positive",color:"#d03050"}]),L=T([{id:1,icon:z,title:"游戏功能",description:"访问所有游戏功能模块",action:"game-features"},{id:2,icon:Q,title:"添加Token",description:"快速添加新的游戏Token",action:"add-token"},{id:3,icon:y,title:"执行任务",description:"一键执行所有待完成任务",action:"execute-tasks"},{id:4,icon:X,title:"WebSocket测试",description:"测试WebSocket连接和游戏命令",action:"websocket-test"},{id:5,icon:R,title:"系统设置",description:"配置个人偏好和系统选项",action:"open-settings"}]),C=()=>{try{i.push("/tokens")}catch(c){console.error("❌ 导航失败:",c),d.error("导航到Token管理页面失败")}},V=c=>{switch(c.action){case"game-features":i.push("/admin/game-features");break;case"add-token":C();break;case"execute-tasks":i.push("/admin/game-features");break;case"websocket-test":i.push("/websocket-test");break;case"open-settings":i.push("/admin/profile");break}},x=()=>{p.value=[{id:1,type:"success",message:"成功完成日常任务：每日签到",timestamp:Date.now()-30*60*1e3},{id:2,type:"info",message:"添加了新的游戏角色：剑士小明",timestamp:Date.now()-2*60*60*1e3},{id:3,type:"warning",message:"任务执行遇到错误，请检查网络连接",timestamp:Date.now()-4*60*60*1e3}],d.success("活动数据已刷新")},q=c=>{switch(c){case"success":return y;case"warning":return A;case"info":default:return z}},F=c=>{const s=Date.now()-c,r=Math.floor(s/(1e3*60)),m=Math.floor(s/(1e3*60*60)),l=Math.floor(s/(1e3*60*60*24));return l>0?`${l}天前`:m>0?`${m}小时前`:r>0?`${r}分钟前`:"刚刚"};return P(async()=>{if(!u.hasTokens){i.push("/tokens");return}u.initTokenStore(),x()}),(c,s)=>{var l;const r=S("n-button"),m=S("n-empty");return o(),n("div",oe,[e("main",ne,[e("div",ie,[e("section",ae,[e("div",ce,[e("div",re,[e("h1",null,"欢迎回来，"+a(((l=D(u).selectedToken)==null?void 0:l.name)||"游戏玩家")+"！",1),e("p",null,"今天是 "+a(N.value)+"，继续您的游戏管理之旅吧",1)]),e("div",le,[h(r,{type:"primary",size:"large",onClick:s[0]||(s[0]=t=>D(i).push("/admin/game-features"))},{default:_(()=>[...s[1]||(s[1]=[w(" 进入游戏功能 ",-1)])]),_:1}),h(r,{size:"large",onClick:C},{default:_(()=>[...s[2]||(s[2]=[w(" 管理Token ",-1)])]),_:1})])])]),e("section",de,[e("div",ue,[(o(!0),n(k,null,v(j.value,t=>(o(),n("div",{key:t.id,class:"stat-card"},[e("div",{class:"stat-icon",style:W({color:t.color})},[(o(),g(f(t.icon)))],4),e("div",me,[e("div",he,a(t.value),1),e("div",pe,a(t.label),1),e("div",{class:M(["stat-change",t.changeType])},a(t.change),3)])]))),128))])]),e("section",_e,[s[3]||(s[3]=e("h2",{class:"section-title"}," 快速操作 ",-1)),e("div",ke,[(o(!0),n(k,null,v(L.value,t=>(o(),n("div",{key:t.id,class:"action-card",onClick:Se=>V(t)},[e("div",ge,[(o(),g(f(t.icon)))]),e("div",fe,[e("h3",null,a(t.title),1),e("p",null,a(t.description),1)])],8,ve))),128))])]),e("section",we,[e("div",ye,[s[5]||(s[5]=e("h2",{class:"section-title"}," 最近活动 ",-1)),h(r,{text:"",type:"primary",onClick:x},{default:_(()=>[...s[4]||(s[4]=[w(" 刷新 ",-1)])]),_:1})]),p.value.length?(o(),n("div",be,[(o(!0),n(k,null,v(p.value,t=>(o(),n("div",{key:t.id,class:"activity-item"},[e("div",{class:M(["activity-icon",t.type])},[(o(),g(f(q(t.type))))],2),e("div",Ce,[e("div",xe,a(t.message),1),e("div",Te,a(F(t.timestamp)),1)])]))),128))])):(o(),n("div",$e,[h(m,{description:"暂无活动记录"})]))])])])])}}},qe=E(De,[["__scopeId","data-v-e2bc8174"]]);export{qe as default};
